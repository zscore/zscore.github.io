<!doctype html>
<html>
	<head>
		<title>Weasel Thought Simulator</title>
		<link rel="stylesheet" href="styles/main.css">
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="./bootstrap-3.2.0-dist/css/bootstrap.min.css">

		<!-- Optional theme -->
		<link rel="stylesheet" href="./bootstrap-3.2.0-dist/css/bootstrap-theme.min.css">
	</head>
	<body>
<!--       <p><form>
          <label>Compose one titled:</label><br>
          <input id="anothertitle" type="text" size="20">
          <input id="composetitled" type="submit" value="Go">
        </form></p>
      <p><a id="permalink" href="">Permalink</a> to the verse at right.</p>-->
   		<button onclick="grow_system()" type="button" class="btn btn-info">Grow L-System</button>
   		<div class="well" id="poem" style="white-space:pre-line; word-wrap: break-word;">
   		</div>
  		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<!-- Latest compiled and minified JavaScript -->
		<script src="./bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
		<script src="./l_system.js"></script>
		<script type="text/javascript">
			var current_state = ['DET', 'N', 'V'];

			pos_to_word_list = [];

			var pos_to_word = {};
			pos_to_word[','] = [', '];
			pos_to_word['.'] = ['. '];
			pos_to_word['ADJ'] = [' wriggly', ' sneaky', ' slippery', ' weaselly'];
			pos_to_word['ADV'] = [' abruptly', ' quietly', ' flippantly', ' floatingly'];
			pos_to_word['CNJ'] = [' and', ' if', ' although', ' for'];
			pos_to_word['DET'] = [' such', ' this', ' that'];
			pos_to_word['MOD'] = [' should', ' would', ' could'];
			pos_to_word['N'] = [' weasel', ' dance', ' sneak', ' pounce'];
			pos_to_word['P'] = [' on', ' at', ' around', ' atop'];
			pos_to_word['PRO'] = [' it', ' they', ' me', ' I', ' he', ' him', ' her', ' his'];
			pos_to_word['TO'] = [' to'];
			pos_to_word['V'] = [' sneaks', ' pounces',' dances', ' weasels'];
			pos_to_word['VD'] = [' sneaked', ' pounced', ' danced', ' weaseled'];
			pos_to_word['VN'] = [' had sneaked', ' had pounced', ' had danced', ' had weaseled'];


			function grow_system(){
				var poem = document.getElementById("poem");
				for (i = 0; i < current_state.length; i++) {
					posbl_words = pos_to_word[current_state[i]];
					poem.appendChild(document.createTextNode(posbl_words[Math.floor(Math.random() * posbl_words.length)]));
				}
				// poem.appendChild(document.createTextNode(current_state));
				poem.appendChild(document.createElement("br"));
				poem.appendChild(document.createTextNode(" "));
				poem.appendChild(document.createElement("br"));
				current_state = l_transform(current_state, rules);
			}
		</script>
	</body>
</html>
